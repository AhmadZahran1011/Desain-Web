<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Zahran NETWORK</title>
  <link rel="stylesheet" href="Edit.css" />
  <link rel="manifest" href="manifest.json" />
  <meta name="theme-color" content="#00c3ff" />
</head>

<body>
  <!-- NAVBAR -->
  <div class="container-navbar">
    <ul class="ul-navbar">
      <!-- Tombol install PWA di navbar -->
      <li class="li-navbar left-item">
        <button id="installBtn" class="install-btn" style="display: none;">Install Aplikasi</button>
      </li>
      <li class="li-navbar"><a href="index.html" class="a-navbar">Home</a></li>
      <li class="li-navbar"><a href="about.html" class="a-navbar">About Me</a></li>
      <li class="li-navbar"><a href="contact.html" class="a-navbar">Contact Me</a></li>
    </ul>
  </div>
  <!-- NAVBAR END -->

  <!-- CONTENT -->
  <main>
    <div class="container-content">
      <h1>Selamat Datang</h1>
      <p>
        Website ini dibuat untuk tugas Desain Web.<br />
        Di sini Anda dapat menemukan perkenalan singkat, informasi tentang saya,
        serta cara menghubungi saya melalui halaman kontak.
      </p>
    </div>
   <!-- Bagian penjelasan fitur PWA -->
<section class="pwa-info">
  <div class="pwa-card">
    <h2> Fitur PWA (Progressive Web App)</h2>
    <p>
      Website <strong>Zahran NETWORK</strong> kini sudah mendukung teknologi 
      <em>Progressive Web App (PWA)</em> untuk pengalaman pengguna yang lebih baik! 
    </p>

    <div class="pwa-features">
      <div class="pwa-item">
        <div>
          <h3>Dapat Diinstal</h3>
          <p>Pasang langsung di perangkat Anda tanpa perlu Play Store.</p>
        </div>
      </div>

      <div class="pwa-item">
        <div>
          <h3>Lebih Cepat</h3>
          <p>Website terbuka lebih cepat setelah instalasi.</p>
        </div>
      </div>

      <div class="pwa-item">
        <div>
          <h3>Offline Mode</h3>
          <p>Bisa diakses tanpa koneksi internet berkat cache offline.</p>
        </div>
      </div>

      <div class="pwa-item">
        <div>
          <h3>Fitur Modern</h3>
          <p>Dapat mendukung notifikasi dan fitur aplikasi lain.</p>
        </div>
      </div>
    </div>

    <p class="pwa-install-note">
      Tekan tombol <strong>“Install Aplikasi”</strong> di pojok atas untuk memasang versi aplikasi dan nikmati pengalaman layaknya aplikasi asli! 
    </p>
  </div>
</section>

  </main>
  <!-- CONTENT END -->

  <!-- FOOTER -->
  <div class="container-footer">
    <h1 class="h1-footer">Terima Kasih</h1>
  </div>
  <!-- FOOTER END -->

  <script>
  // Daftarkan Service Worker
  if ("serviceWorker" in navigator) {
    window.addEventListener("load", function() {
      navigator.serviceWorker
        .register("./service-worker.js")
        .then(function(registration) {
          console.log("✅ Service Worker terdaftar dengan scope:", registration.scope);
        })
        .catch(function(error) {
          console.log("❌ Gagal daftar Service Worker:", error);
        });
    });
  } else {
    console.log("⚠️ Browser tidak mendukung Service Worker.");
  }
</script>
<script>
        let deferredPrompt;
        window.addEventListener('beforeinstallprompt', (e) => {
        e.preventDefault();
        deferredPrompt = e;
        const installBtn = document.createElement('button');
        installBtn.innerText = "Install App";
        installBtn.style.position = "fixed";
        installBtn.style.top = "10px";
        installBtn.style.right = "20px";
        installBtn.style.padding = "10px 20px";
        installBtn.style.background = "#1e90ff";
        installBtn.style.color = "white";
        installBtn.style.border = "none";
        installBtn.style.borderRadius = "5px";
        installBtn.style.cursor = "pointer";
        installBtn.style.zIndex = "9999";
        document.body.appendChild(installBtn);

        installBtn.addEventListener('click', () => {
            deferredPrompt.prompt();
            deferredPrompt.userChoice.then(choice => {
            if (choice.outcome === 'accepted') {
                console.log("User accepted install");
            }
            deferredPrompt = null;
            installBtn.remove();
            
            });
        });
        });
    </script>
</body>
</html>
